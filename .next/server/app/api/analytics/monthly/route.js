"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/analytics/monthly/route";
exports.ids = ["app/api/analytics/monthly/route"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Fmonthly%2Froute&page=%2Fapi%2Fanalytics%2Fmonthly%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Fmonthly%2Froute.ts&appDir=C%3A%5CInternship%5CFinance-Visualizer%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CInternship%5CFinance-Visualizer&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Fmonthly%2Froute&page=%2Fapi%2Fanalytics%2Fmonthly%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Fmonthly%2Froute.ts&appDir=C%3A%5CInternship%5CFinance-Visualizer%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CInternship%5CFinance-Visualizer&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Internship_Finance_Visualizer_app_api_analytics_monthly_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/analytics/monthly/route.ts */ \"(rsc)/./app/api/analytics/monthly/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/analytics/monthly/route\",\n        pathname: \"/api/analytics/monthly\",\n        filename: \"route\",\n        bundlePath: \"app/api/analytics/monthly/route\"\n    },\n    resolvedPagePath: \"C:\\\\Internship\\\\Finance-Visualizer\\\\app\\\\api\\\\analytics\\\\monthly\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Internship_Finance_Visualizer_app_api_analytics_monthly_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/analytics/monthly/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhbmFseXRpY3MlMkZtb250aGx5JTJGcm91dGUmcGFnZT0lMkZhcGklMkZhbmFseXRpY3MlMkZtb250aGx5JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYW5hbHl0aWNzJTJGbW9udGhseSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDSW50ZXJuc2hpcCU1Q0ZpbmFuY2UtVmlzdWFsaXplciU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q0ludGVybnNoaXAlNUNGaW5hbmNlLVZpc3VhbGl6ZXImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDMEI7QUFDdkc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maW5hbmNlLXZpc3VhbGl6ZXIvPzhiZWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcSW50ZXJuc2hpcFxcXFxGaW5hbmNlLVZpc3VhbGl6ZXJcXFxcYXBwXFxcXGFwaVxcXFxhbmFseXRpY3NcXFxcbW9udGhseVxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYW5hbHl0aWNzL21vbnRobHkvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hbmFseXRpY3MvbW9udGhseVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYW5hbHl0aWNzL21vbnRobHkvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxJbnRlcm5zaGlwXFxcXEZpbmFuY2UtVmlzdWFsaXplclxcXFxhcHBcXFxcYXBpXFxcXGFuYWx5dGljc1xcXFxtb250aGx5XFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2FuYWx5dGljcy9tb250aGx5L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Fmonthly%2Froute&page=%2Fapi%2Fanalytics%2Fmonthly%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Fmonthly%2Froute.ts&appDir=C%3A%5CInternship%5CFinance-Visualizer%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CInternship%5CFinance-Visualizer&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/analytics/monthly/route.ts":
/*!********************************************!*\
  !*** ./app/api/analytics/monthly/route.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/database */ \"(rsc)/./lib/database.ts\");\n/* harmony import */ var _barrel_optimize_names_endOfMonth_format_startOfMonth_date_fns__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=endOfMonth,format,startOfMonth!=!date-fns */ \"(rsc)/./node_modules/date-fns/esm/startOfMonth/index.js\");\n/* harmony import */ var _barrel_optimize_names_endOfMonth_format_startOfMonth_date_fns__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=endOfMonth,format,startOfMonth!=!date-fns */ \"(rsc)/./node_modules/date-fns/esm/endOfMonth/index.js\");\n/* harmony import */ var _barrel_optimize_names_endOfMonth_format_startOfMonth_date_fns__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=endOfMonth,format,startOfMonth!=!date-fns */ \"(rsc)/./node_modules/date-fns/esm/format/index.js\");\n\n\n\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const months = parseInt(searchParams.get(\"months\") || \"12\");\n        const db = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.getDatabase)();\n        // Get transactions for the last N months\n        const monthlyData = [];\n        const now = new Date();\n        for(let i = months - 1; i >= 0; i--){\n            const date = new Date(now.getFullYear(), now.getMonth() - i, 1);\n            const start = (0,_barrel_optimize_names_endOfMonth_format_startOfMonth_date_fns__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(date);\n            const end = (0,_barrel_optimize_names_endOfMonth_format_startOfMonth_date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(date);\n            let transactions = [];\n            if (db) {\n                transactions = await db.collection(\"transactions\").find({\n                    date: {\n                        $gte: (0,_barrel_optimize_names_endOfMonth_format_startOfMonth_date_fns__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(start, \"yyyy-MM-dd\"),\n                        $lte: (0,_barrel_optimize_names_endOfMonth_format_startOfMonth_date_fns__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(end, \"yyyy-MM-dd\")\n                    },\n                    type: \"expense\"\n                }).toArray();\n            } else {\n                // Use in-memory storage\n                const allTransactions = await _lib_database__WEBPACK_IMPORTED_MODULE_1__.inMemoryDatabase.transactions.find({\n                    type: \"expense\"\n                }).toArray();\n                transactions = allTransactions.filter((t)=>{\n                    const transactionDate = new Date(t.date);\n                    return transactionDate >= start && transactionDate <= end;\n                });\n            }\n            const totalExpenses = transactions.reduce((sum, t)=>sum + t.amount, 0);\n            monthlyData.push({\n                month: (0,_barrel_optimize_names_endOfMonth_format_startOfMonth_date_fns__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(date, \"MMM yyyy\"),\n                amount: totalExpenses\n            });\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(monthlyData);\n    } catch (error) {\n        console.error(\"Error fetching analytics:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to fetch analytics\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FuYWx5dGljcy9tb250aGx5L3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF1RDtBQUNPO0FBQ0g7QUFFcEQsZUFBZU0sSUFBSUMsT0FBb0I7SUFDNUMsSUFBSTtRQUNGLE1BQU0sRUFBRUMsWUFBWSxFQUFFLEdBQUcsSUFBSUMsSUFBSUYsUUFBUUcsR0FBRztRQUM1QyxNQUFNQyxTQUFTQyxTQUFTSixhQUFhSyxHQUFHLENBQUMsYUFBYTtRQUV0RCxNQUFNQyxLQUFLLE1BQU1iLDBEQUFXQTtRQUU1Qix5Q0FBeUM7UUFDekMsTUFBTWMsY0FBYyxFQUFFO1FBQ3RCLE1BQU1DLE1BQU0sSUFBSUM7UUFFaEIsSUFBSyxJQUFJQyxJQUFJUCxTQUFTLEdBQUdPLEtBQUssR0FBR0EsSUFBSztZQUNwQyxNQUFNQyxPQUFPLElBQUlGLEtBQUtELElBQUlJLFdBQVcsSUFBSUosSUFBSUssUUFBUSxLQUFLSCxHQUFHO1lBQzdELE1BQU1JLFFBQVFuQiwwR0FBWUEsQ0FBQ2dCO1lBQzNCLE1BQU1JLE1BQU1uQiwwR0FBVUEsQ0FBQ2U7WUFFdkIsSUFBSUssZUFBZSxFQUFFO1lBRXJCLElBQUlWLElBQUk7Z0JBQ05VLGVBQWUsTUFBTVYsR0FBR1csVUFBVSxDQUFDLGdCQUFnQkMsSUFBSSxDQUFDO29CQUN0RFAsTUFBTTt3QkFDSlEsTUFBTXRCLDBHQUFNQSxDQUFDaUIsT0FBTzt3QkFDcEJNLE1BQU12QiwwR0FBTUEsQ0FBQ2tCLEtBQUs7b0JBQ3BCO29CQUNBTSxNQUFNO2dCQUNSLEdBQUdDLE9BQU87WUFDWixPQUFPO2dCQUNMLHdCQUF3QjtnQkFDeEIsTUFBTUMsa0JBQWtCLE1BQU03QiwyREFBZ0JBLENBQUNzQixZQUFZLENBQUNFLElBQUksQ0FBQztvQkFBRUcsTUFBTTtnQkFBVSxHQUFHQyxPQUFPO2dCQUM3Rk4sZUFBZU8sZ0JBQWdCQyxNQUFNLENBQUNDLENBQUFBO29CQUNwQyxNQUFNQyxrQkFBa0IsSUFBSWpCLEtBQUtnQixFQUFFZCxJQUFJO29CQUN2QyxPQUFPZSxtQkFBbUJaLFNBQVNZLG1CQUFtQlg7Z0JBQ3hEO1lBQ0Y7WUFFQSxNQUFNWSxnQkFBZ0JYLGFBQWFZLE1BQU0sQ0FBQyxDQUFDQyxLQUFLSixJQUFNSSxNQUFNSixFQUFFSyxNQUFNLEVBQUU7WUFFdEV2QixZQUFZd0IsSUFBSSxDQUFDO2dCQUNmQyxPQUFPbkMsMEdBQU1BLENBQUNjLE1BQU07Z0JBQ3BCbUIsUUFBUUg7WUFDVjtRQUNGO1FBRUEsT0FBT25DLGtGQUFZQSxDQUFDeUMsSUFBSSxDQUFDMUI7SUFDM0IsRUFBRSxPQUFPMkIsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsNkJBQTZCQTtRQUMzQyxPQUFPMUMsa0ZBQVlBLENBQUN5QyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUE0QixHQUFHO1lBQUVFLFFBQVE7UUFBSTtJQUNqRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmluYW5jZS12aXN1YWxpemVyLy4vYXBwL2FwaS9hbmFseXRpY3MvbW9udGhseS9yb3V0ZS50cz83NGZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcclxuaW1wb3J0IHsgZ2V0RGF0YWJhc2UsIGluTWVtb3J5RGF0YWJhc2UgfSBmcm9tICdAL2xpYi9kYXRhYmFzZSdcclxuaW1wb3J0IHsgc3RhcnRPZk1vbnRoLCBlbmRPZk1vbnRoLCBmb3JtYXQgfSBmcm9tICdkYXRlLWZucydcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpXHJcbiAgICBjb25zdCBtb250aHMgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdtb250aHMnKSB8fCAnMTInKVxyXG5cclxuICAgIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGF0YWJhc2UoKVxyXG4gICAgXHJcbiAgICAvLyBHZXQgdHJhbnNhY3Rpb25zIGZvciB0aGUgbGFzdCBOIG1vbnRoc1xyXG4gICAgY29uc3QgbW9udGhseURhdGEgPSBbXVxyXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKVxyXG4gICAgXHJcbiAgICBmb3IgKGxldCBpID0gbW9udGhzIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSAtIGksIDEpXHJcbiAgICAgIGNvbnN0IHN0YXJ0ID0gc3RhcnRPZk1vbnRoKGRhdGUpXHJcbiAgICAgIGNvbnN0IGVuZCA9IGVuZE9mTW9udGgoZGF0ZSlcclxuICAgICAgXHJcbiAgICAgIGxldCB0cmFuc2FjdGlvbnMgPSBbXVxyXG4gICAgICBcclxuICAgICAgaWYgKGRiKSB7XHJcbiAgICAgICAgdHJhbnNhY3Rpb25zID0gYXdhaXQgZGIuY29sbGVjdGlvbigndHJhbnNhY3Rpb25zJykuZmluZCh7XHJcbiAgICAgICAgICBkYXRlOiB7XHJcbiAgICAgICAgICAgICRndGU6IGZvcm1hdChzdGFydCwgJ3l5eXktTU0tZGQnKSxcclxuICAgICAgICAgICAgJGx0ZTogZm9ybWF0KGVuZCwgJ3l5eXktTU0tZGQnKVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHR5cGU6ICdleHBlbnNlJ1xyXG4gICAgICAgIH0pLnRvQXJyYXkoKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFVzZSBpbi1tZW1vcnkgc3RvcmFnZVxyXG4gICAgICAgIGNvbnN0IGFsbFRyYW5zYWN0aW9ucyA9IGF3YWl0IGluTWVtb3J5RGF0YWJhc2UudHJhbnNhY3Rpb25zLmZpbmQoeyB0eXBlOiAnZXhwZW5zZScgfSkudG9BcnJheSgpXHJcbiAgICAgICAgdHJhbnNhY3Rpb25zID0gYWxsVHJhbnNhY3Rpb25zLmZpbHRlcih0ID0+IHtcclxuICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uRGF0ZSA9IG5ldyBEYXRlKHQuZGF0ZSlcclxuICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbkRhdGUgPj0gc3RhcnQgJiYgdHJhbnNhY3Rpb25EYXRlIDw9IGVuZFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHRvdGFsRXhwZW5zZXMgPSB0cmFuc2FjdGlvbnMucmVkdWNlKChzdW0sIHQpID0+IHN1bSArIHQuYW1vdW50LCAwKVxyXG4gICAgICBcclxuICAgICAgbW9udGhseURhdGEucHVzaCh7XHJcbiAgICAgICAgbW9udGg6IGZvcm1hdChkYXRlLCAnTU1NIHl5eXknKSxcclxuICAgICAgICBhbW91bnQ6IHRvdGFsRXhwZW5zZXNcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24obW9udGhseURhdGEpXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFuYWx5dGljczonLCBlcnJvcilcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGFuYWx5dGljcycgfSwgeyBzdGF0dXM6IDUwMCB9KVxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0RGF0YWJhc2UiLCJpbk1lbW9yeURhdGFiYXNlIiwic3RhcnRPZk1vbnRoIiwiZW5kT2ZNb250aCIsImZvcm1hdCIsIkdFVCIsInJlcXVlc3QiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJtb250aHMiLCJwYXJzZUludCIsImdldCIsImRiIiwibW9udGhseURhdGEiLCJub3ciLCJEYXRlIiwiaSIsImRhdGUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwic3RhcnQiLCJlbmQiLCJ0cmFuc2FjdGlvbnMiLCJjb2xsZWN0aW9uIiwiZmluZCIsIiRndGUiLCIkbHRlIiwidHlwZSIsInRvQXJyYXkiLCJhbGxUcmFuc2FjdGlvbnMiLCJmaWx0ZXIiLCJ0IiwidHJhbnNhY3Rpb25EYXRlIiwidG90YWxFeHBlbnNlcyIsInJlZHVjZSIsInN1bSIsImFtb3VudCIsInB1c2giLCJtb250aCIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJzdGF0dXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/analytics/monthly/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/database.ts":
/*!*************************!*\
  !*** ./lib/database.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectToDatabase: () => (/* binding */ connectToDatabase),\n/* harmony export */   getDatabase: () => (/* binding */ getDatabase),\n/* harmony export */   inMemoryDatabase: () => (/* binding */ inMemoryDatabase)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI || \"mongodb://localhost:27017\";\nconst MONGODB_DB = process.env.MONGODB_DB || \"finance-tracker\";\n// In-memory storage for development when MongoDB is not available\nlet inMemoryData = {\n    transactions: [],\n    budgets: [],\n    categories: [\n        {\n            _id: \"food\",\n            name: \"Food & Dining\",\n            color: \"#ef4444\",\n            type: \"expense\"\n        },\n        {\n            _id: \"transport\",\n            name: \"Transportation\",\n            color: \"#f97316\",\n            type: \"expense\"\n        },\n        {\n            _id: \"entertainment\",\n            name: \"Entertainment\",\n            color: \"#eab308\",\n            type: \"expense\"\n        },\n        {\n            _id: \"shopping\",\n            name: \"Shopping\",\n            color: \"#22c55e\",\n            type: \"expense\"\n        },\n        {\n            _id: \"bills\",\n            name: \"Bills & Utilities\",\n            color: \"#3b82f6\",\n            type: \"expense\"\n        },\n        {\n            _id: \"healthcare\",\n            name: \"Healthcare\",\n            color: \"#8b5cf6\",\n            type: \"expense\"\n        },\n        {\n            _id: \"salary\",\n            name: \"Salary\",\n            color: \"#10b981\",\n            type: \"income\"\n        },\n        {\n            _id: \"freelance\",\n            name: \"Freelance\",\n            color: \"#06b6d4\",\n            type: \"income\"\n        },\n        {\n            _id: \"investment\",\n            name: \"Investment\",\n            color: \"#6366f1\",\n            type: \"income\"\n        },\n        {\n            _id: \"other\",\n            name: \"Other\",\n            color: \"#6b7280\",\n            type: \"expense\"\n        }\n    ]\n};\nlet client = null;\nlet db = null;\nasync function connectToDatabase() {\n    try {\n        if (client && db) {\n            return {\n                client,\n                db\n            };\n        }\n        client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(MONGODB_URI);\n        await client.connect();\n        db = client.db(MONGODB_DB);\n        console.log(\"Connected to MongoDB\");\n        return {\n            client,\n            db\n        };\n    } catch (error) {\n        console.warn(\"MongoDB connection failed, using in-memory storage:\", error);\n        return {\n            client: null,\n            db: null\n        };\n    }\n}\nasync function getDatabase() {\n    const { db } = await connectToDatabase();\n    return db;\n}\n// Fallback functions for in-memory storage\nconst inMemoryDatabase = {\n    transactions: {\n        find: (query = {})=>{\n            let result = [\n                ...inMemoryData.transactions\n            ];\n            if (query.category) {\n                result = result.filter((t)=>t.category === query.category);\n            }\n            if (query.type) {\n                result = result.filter((t)=>t.type === query.type);\n            }\n            return {\n                toArray: ()=>Promise.resolve(result),\n                sort: (sortQuery)=>({\n                        toArray: ()=>Promise.resolve(result.sort((a, b)=>{\n                                if (sortQuery.date === -1) {\n                                    return new Date(b.date).getTime() - new Date(a.date).getTime();\n                                }\n                                return new Date(a.date).getTime() - new Date(b.date).getTime();\n                            }))\n                    })\n            };\n        },\n        insertOne: (doc)=>{\n            const newDoc = {\n                ...doc,\n                _id: Date.now().toString()\n            };\n            inMemoryData.transactions.push(newDoc);\n            return Promise.resolve({\n                insertedId: newDoc._id\n            });\n        },\n        updateOne: (filter, update)=>{\n            const index = inMemoryData.transactions.findIndex((t)=>t._id === filter._id);\n            if (index !== -1) {\n                inMemoryData.transactions[index] = {\n                    ...inMemoryData.transactions[index],\n                    ...update.$set\n                };\n            }\n            return Promise.resolve({\n                modifiedCount: index !== -1 ? 1 : 0\n            });\n        },\n        deleteOne: (filter)=>{\n            const index = inMemoryData.transactions.findIndex((t)=>t._id === filter._id);\n            if (index !== -1) {\n                inMemoryData.transactions.splice(index, 1);\n            }\n            return Promise.resolve({\n                deletedCount: index !== -1 ? 1 : 0\n            });\n        }\n    },\n    budgets: {\n        find: (query = {})=>{\n            let result = [\n                ...inMemoryData.budgets\n            ];\n            if (query.month !== undefined) {\n                result = result.filter((b)=>b.month === query.month);\n            }\n            if (query.year !== undefined) {\n                result = result.filter((b)=>b.year === query.year);\n            }\n            return {\n                toArray: ()=>Promise.resolve(result)\n            };\n        },\n        insertOne: (doc)=>{\n            const newDoc = {\n                ...doc,\n                _id: Date.now().toString()\n            };\n            inMemoryData.budgets.push(newDoc);\n            return Promise.resolve({\n                insertedId: newDoc._id\n            });\n        },\n        updateOne: (filter, update)=>{\n            const index = inMemoryData.budgets.findIndex((b)=>b.category === filter.category && b.month === filter.month && b.year === filter.year);\n            if (index !== -1) {\n                inMemoryData.budgets[index] = {\n                    ...inMemoryData.budgets[index],\n                    ...update.$set\n                };\n            } else {\n                // Insert if not found\n                const newDoc = {\n                    ...filter,\n                    ...update.$set,\n                    _id: Date.now().toString()\n                };\n                inMemoryData.budgets.push(newDoc);\n            }\n            return Promise.resolve({\n                modifiedCount: 1,\n                upsertedCount: index === -1 ? 1 : 0\n            });\n        },\n        findOne: (filter)=>{\n            const result = inMemoryData.budgets.find((b)=>b.category === filter.category && b.month === filter.month && b.year === filter.year);\n            return Promise.resolve(result || null);\n        }\n    },\n    categories: {\n        find: ()=>({\n                toArray: ()=>Promise.resolve([\n                        ...inMemoryData.categories\n                    ])\n            })\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O2dCQUNMLHNCQUFzQjtnQkFDdEIsTUFBTVQsU0FBUztvQkFBRSxHQUFHZCxNQUFNO29CQUFFLEdBQUdvQixPQUFPRyxJQUFJO29CQUFFekMsS0FBSzRCLEtBQUtLLEdBQUcsR0FBR0MsUUFBUTtnQkFBRztnQkFDdkV0QyxhQUFhRSxPQUFPLENBQUNxQyxJQUFJLENBQUNIO1lBQzVCO1lBQ0EsT0FBT1gsUUFBUUMsT0FBTyxDQUFDO2dCQUFFb0IsZUFBZTtnQkFBR08sZUFBZVYsVUFBVSxDQUFDLElBQUksSUFBSTtZQUFFO1FBQ2pGO1FBQ0FXLFNBQVMsQ0FBQ2hDO1lBQ1IsTUFBTUYsU0FBU3BCLGFBQWFFLE9BQU8sQ0FBQ2dCLElBQUksQ0FBQ1ksQ0FBQUEsSUFDdkNBLEVBQUVULFFBQVEsS0FBS0MsT0FBT0QsUUFBUSxJQUFJUyxFQUFFb0IsS0FBSyxLQUFLNUIsT0FBTzRCLEtBQUssSUFBSXBCLEVBQUVzQixJQUFJLEtBQUs5QixPQUFPOEIsSUFBSTtZQUV0RixPQUFPM0IsUUFBUUMsT0FBTyxDQUFDTixVQUFVO1FBQ25DO0lBQ0Y7SUFDQWpCLFlBQVk7UUFDVmUsTUFBTSxJQUFPO2dCQUNYTSxTQUFTLElBQU1DLFFBQVFDLE9BQU8sQ0FBQzsyQkFBSTFCLGFBQWFHLFVBQVU7cUJBQUM7WUFDN0Q7SUFDRjtBQUNGLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maW5hbmNlLXZpc3VhbGl6ZXIvLi9saWIvZGF0YWJhc2UudHM/NGQ0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb25nb0NsaWVudCwgRGIgfSBmcm9tICdtb25nb2RiJ1xyXG5cclxuY29uc3QgTU9OR09EQl9VUkkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSSB8fCAnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNydcclxuY29uc3QgTU9OR09EQl9EQiA9IHByb2Nlc3MuZW52Lk1PTkdPREJfREIgfHwgJ2ZpbmFuY2UtdHJhY2tlcidcclxuXHJcbi8vIEluLW1lbW9yeSBzdG9yYWdlIGZvciBkZXZlbG9wbWVudCB3aGVuIE1vbmdvREIgaXMgbm90IGF2YWlsYWJsZVxyXG5sZXQgaW5NZW1vcnlEYXRhID0ge1xyXG4gIHRyYW5zYWN0aW9uczogW10gYXMgYW55W10sXHJcbiAgYnVkZ2V0czogW10gYXMgYW55W10sXHJcbiAgY2F0ZWdvcmllczogW1xyXG4gICAgeyBfaWQ6ICdmb29kJywgbmFtZTogJ0Zvb2QgJiBEaW5pbmcnLCBjb2xvcjogJyNlZjQ0NDQnLCB0eXBlOiAnZXhwZW5zZScgfSxcclxuICAgIHsgX2lkOiAndHJhbnNwb3J0JywgbmFtZTogJ1RyYW5zcG9ydGF0aW9uJywgY29sb3I6ICcjZjk3MzE2JywgdHlwZTogJ2V4cGVuc2UnIH0sXHJcbiAgICB7IF9pZDogJ2VudGVydGFpbm1lbnQnLCBuYW1lOiAnRW50ZXJ0YWlubWVudCcsIGNvbG9yOiAnI2VhYjMwOCcsIHR5cGU6ICdleHBlbnNlJyB9LFxyXG4gICAgeyBfaWQ6ICdzaG9wcGluZycsIG5hbWU6ICdTaG9wcGluZycsIGNvbG9yOiAnIzIyYzU1ZScsIHR5cGU6ICdleHBlbnNlJyB9LFxyXG4gICAgeyBfaWQ6ICdiaWxscycsIG5hbWU6ICdCaWxscyAmIFV0aWxpdGllcycsIGNvbG9yOiAnIzNiODJmNicsIHR5cGU6ICdleHBlbnNlJyB9LFxyXG4gICAgeyBfaWQ6ICdoZWFsdGhjYXJlJywgbmFtZTogJ0hlYWx0aGNhcmUnLCBjb2xvcjogJyM4YjVjZjYnLCB0eXBlOiAnZXhwZW5zZScgfSxcclxuICAgIHsgX2lkOiAnc2FsYXJ5JywgbmFtZTogJ1NhbGFyeScsIGNvbG9yOiAnIzEwYjk4MScsIHR5cGU6ICdpbmNvbWUnIH0sXHJcbiAgICB7IF9pZDogJ2ZyZWVsYW5jZScsIG5hbWU6ICdGcmVlbGFuY2UnLCBjb2xvcjogJyMwNmI2ZDQnLCB0eXBlOiAnaW5jb21lJyB9LFxyXG4gICAgeyBfaWQ6ICdpbnZlc3RtZW50JywgbmFtZTogJ0ludmVzdG1lbnQnLCBjb2xvcjogJyM2MzY2ZjEnLCB0eXBlOiAnaW5jb21lJyB9LFxyXG4gICAgeyBfaWQ6ICdvdGhlcicsIG5hbWU6ICdPdGhlcicsIGNvbG9yOiAnIzZiNzI4MCcsIHR5cGU6ICdleHBlbnNlJyB9LFxyXG4gIF1cclxufVxyXG5cclxubGV0IGNsaWVudDogTW9uZ29DbGllbnQgfCBudWxsID0gbnVsbFxyXG5sZXQgZGI6IERiIHwgbnVsbCA9IG51bGxcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25uZWN0VG9EYXRhYmFzZSgpIHtcclxuICB0cnkge1xyXG4gICAgaWYgKGNsaWVudCAmJiBkYikge1xyXG4gICAgICByZXR1cm4geyBjbGllbnQsIGRiIH1cclxuICAgIH1cclxuXHJcbiAgICBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQoTU9OR09EQl9VUkkpXHJcbiAgICBhd2FpdCBjbGllbnQuY29ubmVjdCgpXHJcbiAgICBkYiA9IGNsaWVudC5kYihNT05HT0RCX0RCKVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIE1vbmdvREInKVxyXG4gICAgcmV0dXJuIHsgY2xpZW50LCBkYiB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUud2FybignTW9uZ29EQiBjb25uZWN0aW9uIGZhaWxlZCwgdXNpbmcgaW4tbWVtb3J5IHN0b3JhZ2U6JywgZXJyb3IpXHJcbiAgICByZXR1cm4geyBjbGllbnQ6IG51bGwsIGRiOiBudWxsIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREYXRhYmFzZSgpIHtcclxuICBjb25zdCB7IGRiIH0gPSBhd2FpdCBjb25uZWN0VG9EYXRhYmFzZSgpXHJcbiAgcmV0dXJuIGRiXHJcbn1cclxuXHJcbi8vIEZhbGxiYWNrIGZ1bmN0aW9ucyBmb3IgaW4tbWVtb3J5IHN0b3JhZ2VcclxuZXhwb3J0IGNvbnN0IGluTWVtb3J5RGF0YWJhc2UgPSB7XHJcbiAgdHJhbnNhY3Rpb25zOiB7XHJcbiAgICBmaW5kOiAocXVlcnk6IGFueSA9IHt9KSA9PiB7XHJcbiAgICAgIGxldCByZXN1bHQgPSBbLi4uaW5NZW1vcnlEYXRhLnRyYW5zYWN0aW9uc11cclxuICAgICAgaWYgKHF1ZXJ5LmNhdGVnb3J5KSB7XHJcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcih0ID0+IHQuY2F0ZWdvcnkgPT09IHF1ZXJ5LmNhdGVnb3J5KVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChxdWVyeS50eXBlKSB7XHJcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcih0ID0+IHQudHlwZSA9PT0gcXVlcnkudHlwZSlcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHRvQXJyYXk6ICgpID0+IFByb21pc2UucmVzb2x2ZShyZXN1bHQpLFxyXG4gICAgICAgIHNvcnQ6IChzb3J0UXVlcnk6IGFueSkgPT4gKHtcclxuICAgICAgICAgIHRvQXJyYXk6ICgpID0+IFByb21pc2UucmVzb2x2ZShyZXN1bHQuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoc29ydFF1ZXJ5LmRhdGUgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGIuZGF0ZSkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYS5kYXRlKS5nZXRUaW1lKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoYS5kYXRlKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShiLmRhdGUpLmdldFRpbWUoKVxyXG4gICAgICAgICAgfSkpXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGluc2VydE9uZTogKGRvYzogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld0RvYyA9IHsgLi4uZG9jLCBfaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSB9XHJcbiAgICAgIGluTWVtb3J5RGF0YS50cmFuc2FjdGlvbnMucHVzaChuZXdEb2MpXHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBpbnNlcnRlZElkOiBuZXdEb2MuX2lkIH0pXHJcbiAgICB9LFxyXG4gICAgdXBkYXRlT25lOiAoZmlsdGVyOiBhbnksIHVwZGF0ZTogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IGluZGV4ID0gaW5NZW1vcnlEYXRhLnRyYW5zYWN0aW9ucy5maW5kSW5kZXgodCA9PiB0Ll9pZCA9PT0gZmlsdGVyLl9pZClcclxuICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgIGluTWVtb3J5RGF0YS50cmFuc2FjdGlvbnNbaW5kZXhdID0geyAuLi5pbk1lbW9yeURhdGEudHJhbnNhY3Rpb25zW2luZGV4XSwgLi4udXBkYXRlLiRzZXQgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBtb2RpZmllZENvdW50OiBpbmRleCAhPT0gLTEgPyAxIDogMCB9KVxyXG4gICAgfSxcclxuICAgIGRlbGV0ZU9uZTogKGZpbHRlcjogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IGluZGV4ID0gaW5NZW1vcnlEYXRhLnRyYW5zYWN0aW9ucy5maW5kSW5kZXgodCA9PiB0Ll9pZCA9PT0gZmlsdGVyLl9pZClcclxuICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgIGluTWVtb3J5RGF0YS50cmFuc2FjdGlvbnMuc3BsaWNlKGluZGV4LCAxKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBkZWxldGVkQ291bnQ6IGluZGV4ICE9PSAtMSA/IDEgOiAwIH0pXHJcbiAgICB9XHJcbiAgfSxcclxuICBidWRnZXRzOiB7XHJcbiAgICBmaW5kOiAocXVlcnk6IGFueSA9IHt9KSA9PiB7XHJcbiAgICAgIGxldCByZXN1bHQgPSBbLi4uaW5NZW1vcnlEYXRhLmJ1ZGdldHNdXHJcbiAgICAgIGlmIChxdWVyeS5tb250aCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcihiID0+IGIubW9udGggPT09IHF1ZXJ5Lm1vbnRoKVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChxdWVyeS55ZWFyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXN1bHQgPSByZXN1bHQuZmlsdGVyKGIgPT4gYi55ZWFyID09PSBxdWVyeS55ZWFyKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdG9BcnJheTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdClcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGluc2VydE9uZTogKGRvYzogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld0RvYyA9IHsgLi4uZG9jLCBfaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSB9XHJcbiAgICAgIGluTWVtb3J5RGF0YS5idWRnZXRzLnB1c2gobmV3RG9jKVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgaW5zZXJ0ZWRJZDogbmV3RG9jLl9pZCB9KVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZU9uZTogKGZpbHRlcjogYW55LCB1cGRhdGU6IGFueSkgPT4ge1xyXG4gICAgICBjb25zdCBpbmRleCA9IGluTWVtb3J5RGF0YS5idWRnZXRzLmZpbmRJbmRleChiID0+IFxyXG4gICAgICAgIGIuY2F0ZWdvcnkgPT09IGZpbHRlci5jYXRlZ29yeSAmJiBiLm1vbnRoID09PSBmaWx0ZXIubW9udGggJiYgYi55ZWFyID09PSBmaWx0ZXIueWVhclxyXG4gICAgICApXHJcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgICBpbk1lbW9yeURhdGEuYnVkZ2V0c1tpbmRleF0gPSB7IC4uLmluTWVtb3J5RGF0YS5idWRnZXRzW2luZGV4XSwgLi4udXBkYXRlLiRzZXQgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEluc2VydCBpZiBub3QgZm91bmRcclxuICAgICAgICBjb25zdCBuZXdEb2MgPSB7IC4uLmZpbHRlciwgLi4udXBkYXRlLiRzZXQsIF9pZDogRGF0ZS5ub3coKS50b1N0cmluZygpIH1cclxuICAgICAgICBpbk1lbW9yeURhdGEuYnVkZ2V0cy5wdXNoKG5ld0RvYylcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgbW9kaWZpZWRDb3VudDogMSwgdXBzZXJ0ZWRDb3VudDogaW5kZXggPT09IC0xID8gMSA6IDAgfSlcclxuICAgIH0sXHJcbiAgICBmaW5kT25lOiAoZmlsdGVyOiBhbnkpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gaW5NZW1vcnlEYXRhLmJ1ZGdldHMuZmluZChiID0+IFxyXG4gICAgICAgIGIuY2F0ZWdvcnkgPT09IGZpbHRlci5jYXRlZ29yeSAmJiBiLm1vbnRoID09PSBmaWx0ZXIubW9udGggJiYgYi55ZWFyID09PSBmaWx0ZXIueWVhclxyXG4gICAgICApXHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0IHx8IG51bGwpXHJcbiAgICB9XHJcbiAgfSxcclxuICBjYXRlZ29yaWVzOiB7XHJcbiAgICBmaW5kOiAoKSA9PiAoe1xyXG4gICAgICB0b0FycmF5OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoWy4uLmluTWVtb3J5RGF0YS5jYXRlZ29yaWVzXSlcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJNb25nb0NsaWVudCIsIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfREIiLCJpbk1lbW9yeURhdGEiLCJ0cmFuc2FjdGlvbnMiLCJidWRnZXRzIiwiY2F0ZWdvcmllcyIsIl9pZCIsIm5hbWUiLCJjb2xvciIsInR5cGUiLCJjbGllbnQiLCJkYiIsImNvbm5lY3RUb0RhdGFiYXNlIiwiY29ubmVjdCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIndhcm4iLCJnZXREYXRhYmFzZSIsImluTWVtb3J5RGF0YWJhc2UiLCJmaW5kIiwicXVlcnkiLCJyZXN1bHQiLCJjYXRlZ29yeSIsImZpbHRlciIsInQiLCJ0b0FycmF5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJzb3J0Iiwic29ydFF1ZXJ5IiwiYSIsImIiLCJkYXRlIiwiRGF0ZSIsImdldFRpbWUiLCJpbnNlcnRPbmUiLCJkb2MiLCJuZXdEb2MiLCJub3ciLCJ0b1N0cmluZyIsInB1c2giLCJpbnNlcnRlZElkIiwidXBkYXRlT25lIiwidXBkYXRlIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCIkc2V0IiwibW9kaWZpZWRDb3VudCIsImRlbGV0ZU9uZSIsInNwbGljZSIsImRlbGV0ZWRDb3VudCIsIm1vbnRoIiwidW5kZWZpbmVkIiwieWVhciIsInVwc2VydGVkQ291bnQiLCJmaW5kT25lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/database.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@babel","vendor-chunks/date-fns"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Fmonthly%2Froute&page=%2Fapi%2Fanalytics%2Fmonthly%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Fmonthly%2Froute.ts&appDir=C%3A%5CInternship%5CFinance-Visualizer%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CInternship%5CFinance-Visualizer&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();